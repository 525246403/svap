{% extends 'video/base.html' %}
{% load static %}
{% block headblock %}
<link rel="stylesheet" href="{% static '/video/css/main.css' %}" />
{% endblock %}
{% block breadcrub %}
    <li>
        <a href="javascript:void(0)">统计信息</a>
    </li>
{% endblock %}
{% block bodyblock %}

        <div class="circle1">
            <div class="circle ccolor01" data-type="1"></div>
            <div class="title">当前明星数：{{ famous_count }}</div>
            <div class="title">当前图片数：{{ face_count }}</div>
        </div>
        <div class="circle2">
            <div class="circle ccolor02" data-type="2"></div>
            <div class="title">当前视频数：{{ media_count }}</div>
        </div>
            <div class="circle3">
            <div class="circle ccolor03" data-type="3"></div>
            <div class="title">当前任务数：{{ task_count }}</div>
        </div>
        <div id="chart_show" class="chart_show" style="position: fixed;top: 350px;width: 1600px"></div>
{% endblock %}
{% block scriptblock %}
    <script>
        var oChart = echarts.init(document.getElementById('chart_show'));
        console.log(oChart);
        var chartopt = {
        title: {
            text: '任务数',
            left: 'center',
            top: '10'
        },
        tooltip: {
            trigger: 'axis'
        },
        legend: {
            data: ['active'],
            top: '40'
        },
        toolbox: {
            show: true,
            feature: {
                mark: {show: true},
                dataView: {show: true, readOnly: false},
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        calculable: true,
        xAxis: [
            {
                name: '今天',
                type: 'category',
                boundaryGap: false,
                data: {{ time_list | safe }}
            }
        ],
        yAxis: [
            {
                name: '数量',
                type: 'value'
            }
        ],
        series: [
            {
                name: 'active',
                type: 'line',
                smooth: true,
                itemStyle: {normal: {areaStyle: {type: 'default'}, color: '#f80'}, lineStyle: {color: '#f80'}},
                data: {{ task_count_list | safe }}
            }],
        areaStyle: {
            normal: {
                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                    offset: 0,
                    color: 'rgba(255,136,0,0.39)'
                }, {
                    offset: .34,
                    color: 'rgba(255,180,0,0.25)'
                }, {
                    offset: 1,
                    color: 'rgba(255,222,0,0.00)'
                }])

            }
        }

    };
        oChart.setOption(chartopt);
    </script>
{% endblock %}